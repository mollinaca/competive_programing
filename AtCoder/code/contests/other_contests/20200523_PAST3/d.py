#!/usr/bin/env python3
# -*- coding: utf-8 -*-
n = int(input())
s = [list(input()) for i in range(5)]

for i in range((4*n+1)//4):
    if s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == "###" and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "#.#" and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == "#.#" and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == "#.#":
        x = 0
    elif s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == ".#." and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "##." and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == ".#." and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == ".#.":
        x = 1
    elif s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == "###" and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "..#" and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == "###" and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == "#..":
        x = 2
    elif s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == "###" and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "..#" and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == "###" and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == "..#":
        x = 3
    elif s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == "#.#" and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "#.#" and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == "###" and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == "..#":
        x = 4
    elif s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == "###" and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "#.." and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == "###" and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == "..#":
        x = 5
    elif s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == "###" and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "#.." and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == "###" and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == "#.#":
        x = 6
    elif s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == "###" and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "..#" and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == "..#" and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == "..#":
        x = 7
    elif s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == "###" and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "#.#" and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == "###" and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == "#.#":
        x = 8
    elif s[0][4*(i+1)-3]+s[0][4*(i+1)-2]+s[0][4*(i+1)-1] == "###" and s[1][4*(i+1)-3]+s[1][4*(i+1)-2]+s[1][4*(i+1)-1] == "#.#" and s[2][4*(i+1)-3]+s[2][4*(i+1)-2]+s[2][4*(i+1)-1] == "###" and s[3][4*(i+1)-3]+s[3][4*(i+1)-2]+s[3][4*(i+1)-1] == "..#":
        x = 9
    else:
        pass

    print (x,end="")
print
